<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<nav class="navbar navbar-expand-lg fixed-top" th:fragment="Navbar">
    <button class="btn menu-btn" id="menu-btn">
        <img src="/static/images/svg/menu.svg" style="fill: white;" alt="Menu"></button>
    <div class="container">
        <a class="navbar-brand" href="/">NStory</a>
        <div class="navbar-collapse collapse">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <img class="box" th:src="@{/general/prf_img/} + ${#authentication.principal.aid}" alt="profileImg">
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link" href="/info" th:text="${#authentication.principal.username}"></a></li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link"
                       th:text="'Lv.' + ${#authentication.principal.level} + ' / nCoin : ' + ${#authentication.principal.nCoin}"></a>
                </li>
                <li class="nav-item" th:if="${#authentication != null}">
                    <a class="nav-link" href="/logout?flag=0">로그아웃</a></li>
                <li class="nav-item" th:unless="${#authentication != null}">
                    <a class="nav-link" href="/login">로그인</a></li>
            </ul>
        </div>
    </div>
</nav>
</html>